---
phase: 02-rich-media-core-features
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - lib/projects.ts
  - lib/services.ts
  - components/HeroVideo.tsx
  - components/ScrollIndicator.tsx
  - hooks/useScrollReveal.ts
  - app/page.tsx
autonomous: true

must_haves:
  truths:
    - "User lands on homepage and sees full-screen video showreel behind brand name on desktop"
    - "Mobile user sees cinematic static image fallback instead of video"
    - "User sees hero content immediately on page load with no blank white screen"
    - "Subtle animated scroll indicator cues user to explore below the fold"
  artifacts:
    - path: "components/HeroVideo.tsx"
      provides: "Full-screen video hero with mobile fallback"
      contains: "autoPlay muted loop playsInline"
    - path: "components/ScrollIndicator.tsx"
      provides: "Animated bounce/fade scroll-down cue"
    - path: "hooks/useScrollReveal.ts"
      provides: "Intersection Observer hook for scroll-driven reveals"
    - path: "lib/projects.ts"
      provides: "Hardcoded portfolio project data"
      exports: ["projects", "getProjectBySlug", "getProjectsByCategory"]
    - path: "lib/services.ts"
      provides: "Hardcoded service data"
      exports: ["services", "getServiceById"]
    - path: "app/page.tsx"
      provides: "Homepage with hero video section"
  key_links:
    - from: "app/page.tsx"
      to: "components/HeroVideo.tsx"
      via: "import and render"
      pattern: "HeroVideo"
    - from: "components/HeroVideo.tsx"
      to: "hooks/useReducedMotion"
      via: "import to disable autoplay for motion-sensitive users"
      pattern: "useReducedMotion"
---

<objective>
Create the cinematic hero video experience on the homepage plus shared data modules and the scroll reveal hook used by later plans.

Purpose: Establish the dramatic first impression (HERO-01-04) and shared data/utilities that Plans 02 and 03 depend on.
Output: Working homepage with full-screen video hero, scroll indicator, plus lib/projects.ts, lib/services.ts, and hooks/useScrollReveal.ts.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-rich-media-core-features/02-RESEARCH.md
@types/portfolio.ts
@components/OptimizedImage.tsx
@hooks/useReducedMotion.ts
@app/page.tsx
@app/layout.tsx
@app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create shared data modules and scroll reveal hook</name>
  <files>lib/projects.ts, lib/services.ts, hooks/useScrollReveal.ts</files>
  <action>
    **lib/projects.ts:**
    - Export an array `projects` of 6-9 placeholder Project objects (import type from types/portfolio.ts)
    - Mix of categories: 3 photography, 3 videography, 2-3 technical/software
    - Use placeholder thumbnail paths like `/images/portfolio/photo-1.jpg` (files won't exist yet, that's fine)
    - Mark 2-3 as `featured: true`
    - Export helper functions: `getProjectBySlug(slug: string)`, `getProjectsByCategory(category)`, `getFeaturedProjects()`

    **lib/services.ts:**
    - Export an array `services` of 3 Service objects: Photography, Videography, Technical Consultation
    - Each with id, title, description (2-3 sentences), and 3-4 features bullet points
    - Export `getServiceById(id: string)`

    **hooks/useScrollReveal.ts:**
    - "use client" directive
    - Custom hook that uses IntersectionObserver to detect when elements enter viewport
    - Signature: `useScrollReveal(options?: { threshold?: number; rootMargin?: string })` returns `{ ref, isVisible }`
    - Use useRef + useState + useEffect
    - Import and respect useReducedMotion — if reduced motion preferred, return `isVisible: true` always (no animation delay)
    - Once visible, stay visible (don't re-hide on scroll up) — use `once` pattern by disconnecting observer after first intersection
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - lib/projects.ts exports are importable
    - lib/services.ts exports are importable
    - hooks/useScrollReveal.ts compiles without errors
  </verify>
  <done>
    - 6-9 placeholder projects across 3 categories exist in lib/projects.ts
    - 3 services exist in lib/services.ts
    - useScrollReveal hook returns ref + isVisible using IntersectionObserver
  </done>
</task>

<task type="auto">
  <name>Task 2: Build hero video component with mobile fallback and update homepage</name>
  <files>components/HeroVideo.tsx, components/ScrollIndicator.tsx, app/page.tsx</files>
  <action>
    **components/HeroVideo.tsx:**
    - "use client" directive
    - Full-viewport height section (h-screen) with relative positioning
    - Desktop: HTML5 `<video>` element with attributes: `autoPlay muted loop playsInline` (CRITICAL: all four required for cross-browser autoplay)
    - Set video `src` to a placeholder path like `/videos/showreel.mp4` and `poster` to `/images/hero-poster.jpg`
    - Use `preload="metadata"` for progressive loading — poster shows immediately
    - Mobile fallback: Use a media query or JS check (window.innerWidth < 768 on mount). On mobile, render OptimizedImage instead of video. Use a `useState` + `useEffect` with matchMedia('(max-width: 767px)') listener.
    - Overlay: dark gradient overlay (bg-black/40 or similar) so white text is always readable
    - Content: "SHRIKE MEDIA" brand name centered, large cinematic typography (use existing font classes)
    - Optional tagline below brand name
    - Import useReducedMotion — if true, pause the video (videoRef.current.pause()) and show poster only
    - Handle video load states: show poster/gradient background while video loads, no blank white screen

    **components/ScrollIndicator.tsx:**
    - "use client" directive
    - Positioned absolute bottom of hero section
    - Animated chevron or arrow bouncing down (CSS animation, not JS)
    - Use `animate-bounce` from Tailwind or custom keyframe
    - Respect useReducedMotion — if true, show static indicator without animation
    - Subtle opacity (opacity-60 or similar), white color
    - onClick: smooth scroll to next section

    **app/page.tsx:**
    - Replace existing placeholder content with HeroVideo component as the first section
    - Add ScrollIndicator inside or after HeroVideo
    - Keep any existing sections below the hero (or add a placeholder "below the fold" section so scroll indicator has somewhere to go)
    - This is a server component that imports client components — no "use client" on page.tsx itself
  </action>
  <verify>
    - `npm run build` passes without errors
    - `npm run dev` — homepage shows full-screen hero section with video element (even if video file doesn't exist, the component renders)
    - `grep -q "matchMedia" components/HeroVideo.tsx` confirms mobile detection code exists
    - Scroll indicator visible at bottom of hero
  </verify>
  <done>
    - Homepage displays full-screen hero with video element on desktop
    - Mobile shows static image fallback
    - Video has autoPlay muted loop playsInline attributes
    - Poster frame shows immediately (no blank screen)
    - Scroll indicator animates at bottom of hero
    - useReducedMotion pauses video and stops scroll indicator animation
  </done>
</task>

</tasks>

<verification>
- `npm run build` completes successfully
- `npx tsc --noEmit` passes
- Homepage renders HeroVideo at full viewport height
- Video element has correct autoplay attributes
- Mobile breakpoint shows image instead of video
- ScrollIndicator renders and animates
- useScrollReveal hook is available for Plan 02
- lib/projects.ts and lib/services.ts export correct data shapes
</verification>

<success_criteria>
- HERO-01: Full-screen video showreel plays behind brand name (video element present with correct attributes)
- HERO-02: Animated scroll-down indicator visible at bottom of hero
- HERO-03: Mobile devices show static image fallback (matchMedia check)
- HERO-04: Poster frame loads instantly, video streams progressively (preload="metadata")
- Shared data and hooks ready for Plans 02 and 03
</success_criteria>

<output>
After completion, create `.planning/phases/02-rich-media-core-features/02-01-SUMMARY.md`
</output>
